:root{
	/* Base palette from provided design */
	--body-grad-start:#f5f7fa; --body-grad-end:#c3cfe2;
	--primary-start:#FFD700; --primary-end:#FFA500; /* gold -> orange */
	--secondary:#333; --grey:#555; --accent:#FF8C00; /* border-left */
	--text:#222; --card:#fff; --border-muted:#eee;
	/* Badges */
	--badge-main-bg:#fff4cc; --badge-main-border:#ffcc66; --badge-main-color:#7a5200;
	--badge-depot-bg:#eef7ff; --badge-depot-border:#99c9ff; --badge-depot-color:#0b4d88;
	/* Buttons & alerts */
	--btn-danger-start:#ff6b6b; --btn-danger-end:#ee5a24;
	--btn-success-start:#2ed573; --btn-success-end:#1e90ff;
	/* Tables */
	--table-header:#f8f9fa;
}
*{box-sizing:border-box}
body{margin:0;font-family:'Segoe UI',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(135deg,var(--body-grad-start) 0%, var(--body-grad-end) 100%);color:var(--text);min-height:100vh}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;background:linear-gradient(135deg,var(--primary-start) 0%, var(--primary-end) 100%);box-shadow:0 2px 10px rgba(0,0,0,0.1)}
.topbar .brand{font-weight:800;letter-spacing:.5px;color:#222}
.topbar nav a{margin-left:14px;color:#333;text-decoration:none;font-weight:600}
.topbar .hamburger{display:none;background:transparent;border:0;font-size:22px}
.topbar .user{margin:0 10px 0 18px;color:#333}
.container{max-width:1100px;margin:24px auto;padding:0 16px}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.card{background:var(--card);border:1px solid var(--border-muted);border-radius:12px;padding:18px;box-shadow:0 6px 20px rgba(0,0,0,.06);transition:transform .15s ease, box-shadow .15s ease}
.card:hover{transform:translateY(-2px);box-shadow:0 10px 28px rgba(0,0,0,.10)}
.quick-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;margin:10px 0 24px;align-items:stretch}
.quick-stats .qs-item{background:linear-gradient(135deg,var(--primary-start) 0%, var(--primary-end) 100%);padding:12px 14px;border-radius:14px;position:relative;overflow:hidden;color:#222;box-shadow:0 4px 14px rgba(0,0,0,.12)}
.quick-stats .qs-item:before{content:"";position:absolute;right:-20px;top:-20px;width:80px;height:80px;background:rgba(255,255,255,0.35);border-radius:50%}
.quick-stats .qs-label{font-size:.72rem;letter-spacing:.5px;text-transform:uppercase;font-weight:600;opacity:.85}
.quick-stats .qs-value{font-size:1.6rem;font-weight:800;margin-top:2px}
.quick-stats .refresh{background:var(--secondary);color:#fff;font-weight:700;align-self:stretch;border-radius:14px}
.refresh{cursor:pointer}
.sparkline{margin-bottom:8px}
.footer{padding:20px;text-align:center;color:#666}
.btn{background:linear-gradient(135deg,var(--primary-start) 0%, var(--primary-end) 100%);color:#333;border:none;border-radius:8px;padding:10px 14px;font-weight:700;cursor:pointer;text-decoration:none}
.btn:hover{opacity:.9}
.btn-danger{background:linear-gradient(135deg,var(--btn-danger-start) 0%, var(--btn-danger-end) 100%);color:#fff}
.btn-success{background:linear-gradient(135deg,var(--btn-success-start) 0%, var(--btn-success-end) 100%);color:#fff}
/* Outline main button for depot principal action */
.btn-outline-main{background:#fff;color:var(--badge-main-color);border:2px solid var(--badge-main-border);border-radius:8px;padding:8px 12px;font-weight:700}
.btn-outline-main:hover{background:var(--badge-main-bg)}
/* Ghost button */
.btn-ghost{background:#fff;border:1px solid #ddd;color:#444;border-radius:8px;padding:8px 12px;font-weight:600}
.btn-ghost:hover{background:#f7f7f7}
.login-page{display:flex;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,var(--primary-start) 0%, var(--primary-end) 100%)}
.login-card{background:#fff;border-radius:16px;padding:28px;box-shadow:0 20px 60px rgba(0,0,0,.18);width:min(420px,92vw)}
.login-card h1{margin-top:0}
label{display:block;margin:12px 0 6px;font-size:.9rem;color:#444}
input{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd}
.excel{width:100%;border-collapse:collapse}
.excel th,.excel td{border:1px solid #e6e6e6;padding:8px 10px;text-align:right}
.excel th:first-child,.excel td:first-child{text-align:left}
.excel thead th{background:var(--table-header)}
.excel tfoot th{background:#f3f3f3}
.big{font-size:2rem;font-weight:800;color:#333}
.muted{color:#777}

/* Inputs */
textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd;font-family:inherit;resize:vertical;min-height:96px}

/* Badges per design */
.badge-main-depot{background:var(--badge-main-bg);border:1px solid var(--badge-main-border);color:var(--badge-main-color);padding:.25rem .5rem;border-radius:999px;font-size:.85rem;display:inline-flex;align-items:center;gap:.35rem}
.badge-depot{background:var(--badge-depot-bg);border:1px solid var(--badge-depot-border);color:var(--badge-depot-color);padding:.25rem .5rem;border-radius:999px;font-size:.85rem;display:inline-flex;align-items:center;gap:.35rem}

/* Alerts */
.alert{padding:1rem;border-radius:5px;margin-bottom:1rem}
.alert-success{background:#d4edda;color:#155724;border:1px solid #c3e6cb}
.alert-error{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}
.alert-warning{background:#fff3cd;color:#856404;border:1px solid #ffeaa7}

@media (max-width: 800px){
	.topbar{position:sticky;top:0;z-index:1000}
	.topbar .hamburger{display:block}
	#mainNav{position:absolute;right:12px;top:56px;background:#fff;border:1px solid #eee;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.12);padding:10px 12px;display:none}
	#mainNav.open{display:block}
	#mainNav a, #mainNav .logout{display:block;margin:8px 0}
}

/* --- Dropzone styles --- */
.dropzone {border:2px dashed var(--primary-end);padding:1rem;text-align:center;cursor:pointer;position:relative;background:rgba(255,255,255,0.7);transition:border-color .2s, background .2s;border-radius:8px}
.dropzone.drag {background:rgba(255, 204, 128, 0.25);border-color:var(--accent)}
.dropzone .dz-label{color:#666}
.dropzone.has-image .dz-label { display:none }
.dropzone img { margin-top:.5rem;border-radius:4px;box-shadow:0 2px 4px rgba(0,0,0,.15) }

/* --- Readonly input --- */
input.readonly[readonly] { background:#f4f4f4; color:#555 }

/* --- Select search wrapper --- */
.select-search { display:flex; flex-direction:column; gap:.4rem }
.select-search input { padding:.6rem .75rem; border:1px solid #cfcfcf; border-radius:10px; font-size:1rem; box-shadow:0 1px 2px rgba(0,0,0,.02) }
.select-search select { width:100%; border:1px solid #cfcfcf; border-radius:10px; padding:.6rem .75rem; font-size:1rem; background:#fff }
.select-search select option { padding:.25rem .4rem }

/* --- Modern form layout for transfers --- */
.form-modern { display:flex; flex-direction:column; gap:1rem }
.form-modern .form-row { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:1rem }
.form-modern .form-field label { display:block; font-weight:600; color:#333; margin:0 0 .35rem }
.form-modern .form-control { width:100%; padding:.65rem .8rem; border:1px solid #d8d8d8; border-radius:10px; font-size:1rem; background:#fff; transition:border-color .15s, box-shadow .15s }
.form-modern .form-control:focus { outline:none; border-color:var(--primary-end); box-shadow:0 0 0 3px rgba(255, 165, 0, .15) }
.form-modern .form-actions { display:flex; gap:.6rem; align-items:center; justify-content:flex-start; margin-top:.25rem }

/* --- Generic form layout & controls (outside .form-modern) --- */
.form-row { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:1rem }
.form-field label { display:block; font-weight:600; color:#333; margin:0 0 .35rem }
.form-control { width:100%; padding:.65rem .8rem; border:1px solid #d8d8d8; border-radius:10px; font-size:1rem; background:#fff; transition:border-color .15s, box-shadow .15s }
.form-control:focus { outline:none; border-color:var(--primary-end); box-shadow:0 0 0 3px rgba(255, 165, 0, .15) }
select.form-control { -webkit-appearance:none; -moz-appearance:none; appearance:none; background-image: linear-gradient(45deg, transparent 50%, #888 50%), linear-gradient(135deg, #888 50%, transparent 50%), linear-gradient(to right, #fff, #fff); background-position: calc(100% - 18px) calc(50% - 3px), calc(100% - 13px) calc(50% - 3px), 100% 0; background-size: 6px 6px, 6px 6px, 2.5rem 100%; background-repeat:no-repeat; padding-right:2.6rem; min-height:44px }
input.form-control { min-height:44px }

/* --- Select combo (single input dropdown) --- */
.select-combo { position:relative; display:flex; flex-direction:column; gap:.35rem }
.select-combo input[type="text"] { padding:.45rem .6rem; border:1px solid #ccc; border-radius:6px }
.select-combo .combo-menu { position:absolute; top:100%; left:0; right:0; z-index:10; background:#fff; border:1px solid #ddd; border-radius:6px; box-shadow:0 4px 12px rgba(0,0,0,.08); max-height:220px; overflow:auto; margin-top:.25rem }
.select-combo .combo-item { padding:.45rem .6rem; cursor:pointer }
.select-combo .combo-item:hover, .select-combo .combo-item.active { background:rgba(255, 204, 128, 0.2) }
.select-combo .combo-empty { padding:.45rem .6rem; color:#777 }

/* --- Product cards grid --- */
.cards-grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(220px,1fr)); gap:1rem }
.card-product { background:#fff; border:1px solid #eee; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.06); overflow:hidden; display:flex; flex-direction:column; transition:transform .15s ease, box-shadow .15s ease }
.card-product:hover{ transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.10) }
.card-product .thumb { aspect-ratio: 16 / 9; background:linear-gradient(135deg, #fafafa 0%, #f2f2f2 100%); display:flex; align-items:center; justify-content:center }
.card-product .thumb img { max-width:100%; max-height:100%; object-fit:cover }
.card-product .body, .card-product .card-body { padding:.9rem 1rem; display:flex; flex-direction:column; gap:.4rem }
.card-product .title, .card-product .card-title { font-weight:700 }
.card-product .sku { color:#777; font-size:.85rem }
.card-product .price { color:#111; font-weight:600 }
.card-product .actions, .card-product .card-actions { 
	display:grid; 
	grid-template-columns: 1fr; 
	row-gap:.5rem; 
	align-items:center; 
	padding:.7rem 1rem; 
	border-top:1px solid #eee;
}
.card-product .actions .left { display:flex; gap:.4rem; flex-wrap:wrap; justify-content:flex-start }
.card-product .actions .right { display:flex; gap:.4rem; flex-wrap:wrap; justify-content:flex-end }

@media (min-width: 900px){
	/* Option: sur large Ã©cran on peut afficher deux lignes stables, l'une gauche, l'autre droite */
	.card-product .actions, .card-product .card-actions { grid-template-columns: 1fr }
}
.badge-inactive { background:#ffe1e1; color:#b50000; border-radius:999px; padding:.15rem .5rem; font-size:.75rem }
.muted { color:#777; font-size:.85rem }

/* Highlight main depot */
.card-product.main-depot{ border:1px solid var(--badge-main-border); box-shadow:0 8px 26px rgba(255, 204, 102, .25) }
.card-product .badge-main-depot i{ color:var(--badge-main-color) }

/* Toasts */
.toast-container{position:fixed; top:16px; right:16px; z-index:2000; display:flex; flex-direction:column; gap:8px}
.toast{min-width:240px; max-width:360px; padding:.75rem .9rem; border-radius:10px; box-shadow:0 8px 24px rgba(0,0,0,.15); display:flex; align-items:center; gap:.6rem; animation:slideIn .2s ease-out}
.toast-success{background:#e9f9ee; border:1px solid #bfe7ca; color:#225e35}
.toast-error{background:#fdecec; border:1px solid #f5b5b5; color:#7a1f1f}
.toast-info{background:#eef5ff; border:1px solid #bdd7ff; color:#0b3b82}
@keyframes slideIn { from { opacity:0; transform:translateY(-8px)} to {opacity:1; transform:translateY(0)} }

/* Popover for stock details */
.popover { position:absolute; z-index:1500; background:#fff; border:1px solid #e5e5e5; border-radius:10px; box-shadow:0 10px 28px rgba(0,0,0,.12); padding:.6rem .8rem; min-width:220px; max-width:320px }
.popover h4 { margin:.2rem 0 .4rem; font-size:.95rem }
.popover .list { display:flex; flex-direction:column; gap:.25rem; max-height:260px; overflow:auto }
.popover .item { display:flex; justify-content:space-between; gap:.6rem; font-size:.9rem }
.link { background:none; border:0; padding:0; color:#0b4d88; cursor:pointer; text-decoration:underline; font-weight:600 }

/* --- Client cards --- */
.card-client { background:#fff; border:1px solid #eee; border-radius:14px; box-shadow:0 6px 18px rgba(0,0,0,.06); overflow:hidden; display:flex; flex-direction:column; transition:transform .15s ease, box-shadow .15s ease }
.card-client:hover{ transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.10) }
.card-client .cl-header { display:flex; align-items:center; justify-content:center; padding:1rem 1rem .25rem }
.card-client .avatar { width:84px; height:84px; border-radius:50%; object-fit:cover; box-shadow:0 4px 12px rgba(0,0,0,.12) }
.card-client .avatar-fallback { width:84px; height:84px; border-radius:50%; background:linear-gradient(135deg, #fafafa 0%, #f2f2f2 100%); display:flex; align-items:center; justify-content:center; color:#888; font-size:36px; box-shadow:0 4px 12px rgba(0,0,0,.12) }
.card-client .cl-body { padding:.25rem 1rem .75rem; display:flex; flex-direction:column; gap:.25rem; text-align:center }
.card-client .cl-name { font-weight:800; font-size:1.05rem; color:#222 }
.card-client .cl-phone { color:#444; font-weight:600; }
.card-client .cl-actions { padding:.6rem 1rem .9rem; border-top:1px solid #eee; display:flex; gap:.5rem; justify-content:center }
.card-client .btn[disabled], .card-client .btn[aria-disabled="true"]{ opacity:.5; pointer-events:none }
